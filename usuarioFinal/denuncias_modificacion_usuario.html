<!DOCTYPE HTML>
<!--
	Editorial by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>PetLink</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<link rel="stylesheet" href="assets/css/aditional.css">
		<link rel="stylesheet" href="assets/css/popup-window.css">
		<link rel="icon" href="images/favicon.png" type="image/x-icon">
	</head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Main -->
					<div id="main">
						<div class="inner">

							<!-- Header -->
								<header id="header">
									<h1 class="logo"><strong>Modificación de denuncia por maltrato animal</strong></h1>

									<!-- Sección para el nombre y enlace al perfil -->
									<a href="perfil_usuario.html" class="user-profile">
										<span class="ocultar">Ander Vilchez</span> <img src="images/foto_perfil.jpg" style="border-radius: 100%; height: 45px; width: 45px;object-fit: cover;"></img>
									</a>
								</header>

							<!-- Banner -->
								<section class="banner">
									<div class="content">
										<header>
											<img src="images/form.png" class="icons">
											<h2>Completa el siguiente formulario</h2>
										</header>
										
												
										<form style="margin-bottom: 0;">
											<div class="row gtr-uniform">
												<div class="col-6 col-12-xsmall">
													<label for="tamanio" class="input-label">Tamaño</label>
													<select id="tamanio" required disabled>
														<option value="">- Seleccione el tamaño de la mascota -</option>
														<option value="1">Pequeño</option>
														<option value="2" selected>Mediano</option>
														<option value="3">Grande</option>
													</select>
												</div>
	
												<div class="col-6 col-12-xsmall">
													<label for="raza" class="input-label">Raza</label>
													<input type="text" id="raza" value="Criollo" placeholder="" required disabled/>
												</div>
	
												<div class="col-12">
													<label for="descripcion_maltrato" class="input-label">Descripción del maltrato (máximo 300 caracteres):</label>
													<textarea id="descripcion_maltrato" name="descripcion_maltrato" class="text-area" maxlength="300" placeholder="" required>El animal fue encontrado en malas condiciones físicas, mostrando signos de desnutrición y golpes visibles. Se observó que estaba atado con una cuerda corta sin acceso a agua ni comida. El maltrato parece haber ocurrido durante varias semanas.</textarea>
													<span id="charCount" style="margin-right: 0;">0/300</span>
												</div>
												<script>
													// Función para contar caracteres
													const textarea = document.getElementById('descripcion_maltrato');
													const charCount = document.getElementById('charCount');
										
													textarea.addEventListener('input', function() {
														const currentLength = textarea.value.length;
														charCount.textContent = `${currentLength}/300`;
													});
												</script>
												<style>
													#charCount {
														font-size: 12px;
														color: #888;
														float: right;
													}
												</style>
	
												<div class="col-12">
													<label for="nombre_maltratador" class="input-label">Nombre del maltratador</label>
													<input type="text" id="nombre_maltratador" value="Juan Pérez" placeholder="" required disabled/>
												</div>
	
												<!-- Break -->
												<div class="col-12">
													<label for="direccion_maltrato" class="input-label">Dirección del animal maltratado</label>
													<input type="text" id="direccion_maltrato" value="Avenida Siempre Viva 742, San Miguel" required disabled/>
												</div>
	
												<div class="col-12">
													<label for="es_denuncia_activa" class="input-label">¿Se ha hecho una denuncia policial?</label>
													<select id="es_denuncia_activa" required>
														<option value="">- Seleccione una opción -</option>
														<option value="1" selected>Sí se ha hecho la denuncia</option>
														<option value="2">No se ha hecho la denuncia</option>
													</select>
												</div>
	
												<!--Break-->
												<div class="col-12">
													<label for="foto_animal" class="input-label">Foto del animal maltratado</label>
													<input type="file" id="foto_animal" name="archivo" class="contenedor-archivo" accept="image/png" required/>
												</div>
											
												<!-- Break -->
												<div class="col-12">
													<ul class="actions form-buttons">
														<li><button type="button" class="button primary big" id="openModal">Modificar</button></li>
														<li><a href="denuncias_usuario.html" class="button big">Cancelar</a></li>
													</ul>
												</div>
											
										</div>
										</form>
									</div>
								</section>

						</div>
					</div>

				<!-- Sidebar -->
					<div id="sidebar">
						<div class="inner">
							
							<!-- Logo -->
								
								<section class="alt" id="sidebar-header">
									<img src="images/favicon.png" alt="Logo" id="sidebar-icon">
									<p id ="sidebar-title">PetLink</p>
								</section>
							
							<!-- Perfil -->
	
							<section class="perfil">
										
								<div class="mini-posts">
									<article>
										<img src="images/foto_perfil.jpg" alt="" id="image-perfil">
										<h2 id="usuario">Ander Vilchez</h2>
									</article>
								</div>
								
							</section>

							<!-- Menu -->
								<nav id="menu">
									<header class="major">
										<h2>Menu</h2>
									</header>
									<ul>
										<li><a href="perfil_usuario.html">PERFIL</a></li>
										<li>
											<span class="opener">ALBERGUES</span>
											<ul>
												<li><a href="albergue_usuario.html">LISTA DE ALBERGUES</a></li>
												<li><a href="eventos.html">EVENTOS BENÉFICOS</a></li>
												<li><a href="Donaciones1.html">SOLICITUDES DE DONACIÓN</a></li>
												<li><a href="Donaciones_historial.html">HISTORIAL DE DONACIONES</a></li>
												<li><a href="adopciones_usuario.html">MASCOTAS EN ADOPCIÓN</a></li>
												<li><a href="adopciones_historial_usuario.html">HISTORIAL DE ADOPCIONES</a></li>
											</ul>
										</li>
										<li><a href="Hogar_temporal.html">HOGAR TEMPORAL</a></li>
										<li><a href="denuncias_usuario.html">DENUNCIAS POR MALTRATO ANIMAL</a></li>
										<li><a href="mascotas_perdidas_usuario.html">MASCOTAS PERDIDAS</a></li>
									</ul>
								</nav>
							<!-- Logout -->	

							<nav id="logout">
								<a href="../bienvenidos.html" id="cerrar-sesion">Cerrar Sesión</a>
							</nav>

						</div>
					</div>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
		
			<!-- Modal -->
			<div id="modal" class="modal">
				<div class="modal-content">
					<!-- Botón cerrar -->
					<span class="close-btn">&times;</span>
					<p>¿Está seguro de modificar tu denuncia?</p>
					<!-- Botones de Aceptar y Cancelar -->
					<ul class="actions modal-buttons">
						<li><a href="denuncias_usuario.html" class="button primary big" id="acceptButton">Sí</a></li>
						<li><a href="#" class="button big" id="cancelButton">No</a></li>
					</ul>
				</div>
			</div>
			
			<!-- Script dentro del mismo HTML -->
			<script>
				// Esperamos a que todo el DOM esté cargado
				document.addEventListener('DOMContentLoaded', function() {
					// Obtener los elementos del DOM
					const openModalButton = document.getElementById('openModal'); // Botón que abre el modal
					const modal = document.getElementById('modal');               // El modal
					const closeModalButton = document.querySelector('.close-btn'); // Botón para cerrar el modal (X)
					const acceptButton = document.getElementById('acceptButton'); // Botón de Aceptar
					const cancelButton = document.getElementById('cancelButton'); // Botón de Cancelar
			
					// Obtener el formulario para realizar la validación
					const form = document.querySelector('form');
			
					// Función para validar el formulario y mostrar el modal si todos los campos son válidos
					openModalButton.addEventListener('click', function(event) {
						if (form.checkValidity()) {
							event.preventDefault(); // Evitar la redirección automática
							modal.classList.add('show'); // Mostrar el modal
						} else {
							// Si hay campos no válidos, el navegador mostrará los errores nativos
							form.reportValidity(); // Esto hace que el navegador muestre el mensaje de error nativo
						}
					});
			
					// Función para cerrar el modal al hacer clic en la "X"
					closeModalButton.addEventListener('click', function() {
						modal.classList.remove('show'); // Ocultar el modal
					});
			
					// Redireccionar al aceptar
					acceptButton.addEventListener('click', function() {
						window.location.href = 'denuncias_usuario.html'; // Redirigir al HTML de destino
					});
			
					// Función para cerrar el modal al hacer clic en el botón "Cancelar"
					cancelButton.addEventListener('click', function() {
						modal.classList.remove('show'); // Ocultar el modal
					});
				});
			</script>
	</body>
</html>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Obtener los campos del formulario
        const razaInput = document.getElementById('raza');
        const nombreMaltratadorInput = document.getElementById('nombre_maltratador');
        const direccionMaltratoInput = document.getElementById('direccion_maltrato');

        // Función para limitar los caracteres
        function limitarCaracteres(input, maxLength) {
            input.addEventListener('input', function() {
                if (this.value.length > maxLength) {
                    this.value = this.value.substring(0, maxLength); // Limitar a maxLength caracteres
                }
            });
        }

        // Limitar la cantidad de caracteres en cada campo
        limitarCaracteres(razaInput, 45);              // Máximo 45 caracteres para raza
        limitarCaracteres(nombreMaltratadorInput, 45); // Máximo 45 caracteres para nombre del maltratador
        limitarCaracteres(direccionMaltratoInput, 100); // Máximo 100 caracteres para dirección de maltrato
    });
</script>